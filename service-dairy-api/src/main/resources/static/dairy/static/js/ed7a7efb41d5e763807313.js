webpackJsonp([13],{208:function(e,t,n){n(882);var r=n(85)(n(847),n(906),"data-v-656037a6",null);r.options.__file="D:\\user\\yc\\myProject\\service-dairy-parent\\web-dairy\\src\\views\\index\\page\\login\\register.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] register.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},817:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(r[o]=!0)}for(s=0;s<t.length;s++){var a=t[s];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},818:function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=u[n.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](n.parts[s]);for(;s<n.parts.length;s++)r.parts.push(a(n.parts[s]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var o=[],s=0;s<n.parts.length;s++)o.push(a(n.parts[s]));u[n.id]={id:n.id,refs:1,parts:o}}}}function s(e,t){for(var n=[],r={},s=0;s<t.length;s++){var o=t[s],a=o[0],i=o[1],d=o[2],c=o[3],u={css:i,media:d,sourceMap:c};r[a]?(u.id=e+":"+r[a].parts.length,r[a].parts.push(u)):(u.id=e+":0",n.push(r[a]={id:a,parts:[u]}))}return n}function o(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function a(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]'),s=null!=r;if(s&&h)return v;if(m){var a=f++;r=l||(l=o()),t=i.bind(null,r,a,!1),n=i.bind(null,r,a,!0)}else r=r||o(),t=d.bind(null,r),n=function(){r.parentNode.removeChild(r)};return s||t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function i(e,t,n,r){var s=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,s);else{var o=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media,s=t.sourceMap;if(r&&e.setAttribute("media",r),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=n(819),u={},p=c&&(document.head||document.getElementsByTagName("head")[0]),l=null,f=0,h=!1,v=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){h=n;var o=s(e,t);return r(o),function(t){for(var n=[],a=0;a<o.length;a++){var i=o[a],d=u[i.id];d.refs--,n.push(d)}t?(o=s(e,t),r(o)):o=[];for(var a=0;a<n.length;a++){var d=n[a];if(0===d.refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete u[d.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},819:function(e,t){e.exports=function(e,t){for(var n=[],r={},s=0;s<t.length;s++){var o=t[s],a=o[0],i=o[1],d=o[2],c=o[3],u={id:e+":"+s,css:i,media:d,sourceMap:c};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}},847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(221),s=n.n(r),o=n(220),a=n.n(o);n(345);t.default={name:"register",components:{},data:function(){var e=this,t=function(e,t,n){""!==t&&t.length>=6?n():n(new Error("请输入用户名,可为数字、字母组合，长度至少6位"))},n=function(t,n,r){n!==e.findPwd.passwd?r(new Error("两次输入密码不一致!")):r()};return{isCheck:!1,current:0,showStep1:!0,showStep2:!1,count:"",showCodeBtn:!0,findInfo:{username:"",contactCell:""},findInfoRule:{username:[{required:!0,message:"用户名不能为空"},{validator:t,trigger:"blur"}],contactCell:[{required:!1}]},findPwd:{passwd:"",passwdCheck:"",code:""},findPwdRule:{passwd:[{required:!0,message:"新密码不能为空"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],passwdCheck:[{required:!0,message:"请再次输入新密码"},{min:6,message:"密码长度不能小于6位"},{validator:n,trigger:"blur"}],code:[{required:!0,message:"请输入手机短信验证码"}]}}},methods:{next2:function(){var e=this;this.$refs.findPwd.validate(function(){var t=a()(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}if(e.current=2,0!=e.isCheck){t.next=6;break}return e.isCheck=!e.isCheck,t.next=6,user.UserSignup({username:e.findInfo.username,contactCell:e.findInfo.contactCell,password:e.findPwd.passwd,messageCode:e.findPwd.code}).then(function(t){"101"==t.code?(e.showStep1=!1,e.showStep2=!1,e.$Message.success("注册成功"),e.current=3,localStorage.token="",setTimeout(function(){e.$jump("/login")},1e3)):(e.isCheck=!1,e.$Message.error(t.message))});case 6:t.next=9;break;case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())},next1:function(){var e=this;this.$refs.findInfo.validate(function(t){if(!t)return!1;e.current=1,e.showStep1=!1,e.showStep2=!0,e.isCheck=!1})},last:function(){this.current=0,this.showStep2=!1,this.showStep1=!0,this.isCheck=!1},getCode:function(){var e=this;return a()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,user.GetMsgCode({userName:e.findInfo.username,contactCell:e.findInfo.contactCell}).then(function(t){if("101"==t.code){localStorage.token=t.data,e.$Message.success("短信验证码已成功发送,请注意查收"),e.showCodeBtn=!1,e.isCheck=!1,e.count=60;var n=setInterval(function(){0==--e.count&&(e.showCodeBtn=!0,clearInterval(n))},1e3)}else e.$Message.error(t.message)});case 2:case"end":return t.stop()}},t,e)}))()}}}},85:function(e,t){e.exports=function(e,t,n,r){var s,o=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(s=e,o=e.default);var i="function"==typeof o?o.options:o;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),n&&(i._scopeId=n),r){var d=Object.create(i.computed||null);Object.keys(r).forEach(function(e){var t=r[e];d[e]=function(){return t}}),i.computed=d}return{esModule:s,exports:o,options:i}}},858:function(e,t,n){t=e.exports=n(817)(),t.push([e.i,"\n.register[data-v-656037a6] {\n  width: 1200px !important;\n  margin: 25px auto 0;\n}\n.register .step1[data-v-656037a6] {\n  margin-top: 30px;\n}\n.register .step1 .ivu-col-span-18[data-v-656037a6] {\n  padding-left: 0 !important;\n}\n.register .step2[data-v-656037a6] {\n  margin-top: 30px;\n}\n.register .step2 .ivu-col-span-18[data-v-656037a6] {\n  padding-left: 0 !important;\n}\n","",{version:3,sources:["D:/user/yc/myProject/service-dairy-parent/web-dairy/src/views/index/page/login/register.vue"],names:[],mappings:";AAAA;EACE,yBAAyB;EACzB,oBAAoB;CACrB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,2BAA2B;CAC5B;AACD;EACE,iBAAiB;CAClB;AACD;EACE,2BAA2B;CAC5B",file:"register.vue",sourcesContent:[".register {\n  width: 1200px !important;\n  margin: 25px auto 0;\n}\n.register .step1 {\n  margin-top: 30px;\n}\n.register .step1 .ivu-col-span-18 {\n  padding-left: 0 !important;\n}\n.register .step2 {\n  margin-top: 30px;\n}\n.register .step2 .ivu-col-span-18 {\n  padding-left: 0 !important;\n}\n"],sourceRoot:""}])},882:function(e,t,n){var r=n(858);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(818)("1321b284",r,!1)},906:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("Row",[n("Col",{attrs:{span:"20",offset:"4"}},[n("Steps",{attrs:{current:e.current}},[n("Step",{attrs:{title:"设置登录账号"}}),e._v(" "),n("Step",{attrs:{title:"填写账号信息"}}),e._v(" "),n("Step",{attrs:{title:"注册成功"}})],1)],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showStep1,expression:"showStep1"}],staticClass:"step1"},[n("Row",[n("Col",{attrs:{span:"7",offset:"8"}},[n("Form",{ref:"findInfo",attrs:{model:e.findInfo,"label-width":80,rules:e.findInfoRule}},[n("Form-item",{attrs:{label:"用户名",prop:"username"}},[n("Input",{attrs:{placeholder:"用户名,可为数字、字母组合，长度至少6位"},model:{value:e.findInfo.username,callback:function(t){e.$set(e.findInfo,"username",t)},expression:"findInfo.username"}})],1),e._v(" "),n("Form-item",{attrs:{label:"手机号",prop:"contactCell"}},[n("Input",{attrs:{placeholder:"请输入联系方式，账号为手机号时可不填"},model:{value:e.findInfo.contactCell,callback:function(t){e.$set(e.findInfo,"contactCell",t)},expression:"findInfo.contactCell"}})],1)],1)],1)],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showStep1,expression:"showStep1"}],staticStyle:{"text-align":"center"}},[n("i-button",{attrs:{type:"primary"},on:{click:e.next1}},[e._v("下一步")])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showStep2,expression:"showStep2"}],staticClass:"step2"},[n("Row",[n("Col",{attrs:{span:"7",offset:"8"}},[n("Form",{ref:"findPwd",attrs:{model:e.findPwd,rules:e.findPwdRule,"label-width":80}},[n("Form-item",{attrs:{label:"密码",prop:"passwd"}},[n("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.findPwd.passwd,callback:function(t){e.$set(e.findPwd,"passwd",t)},expression:"findPwd.passwd"}})],1),e._v(" "),n("Form-item",{attrs:{label:"确认密码",prop:"passwdCheck"}},[n("Input",{attrs:{type:"password",placeholder:"请再次输入你的密码"},model:{value:e.findPwd.passwdCheck,callback:function(t){e.$set(e.findPwd,"passwdCheck",t)},expression:"findPwd.passwdCheck"}})],1),e._v(" "),n("Form-item",{attrs:{label:"短信验证",prop:"code"}},[n("Row",{attrs:{gutter:16}},[n("Col",{attrs:{span:"14"}},[n("Input",{attrs:{type:"text",placeholder:"请输入手机验证码"},model:{value:e.findPwd.code,callback:function(t){e.$set(e.findPwd,"code",t)},expression:"findPwd.code"}})],1),e._v(" "),n("Col",{attrs:{span:"3"}},[n("Button",{directives:[{name:"show",rawName:"v-show",value:e.showCodeBtn,expression:"showCodeBtn"}],on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:!e.showCodeBtn,expression:"!showCodeBtn"}]},[e._v(e._s(e.count)+"秒后重发")])],1)],1)],1)],1)],1)],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showStep2,expression:"showStep2"}],staticStyle:{"text-align":"center"}},[n("i-button",{attrs:{type:"primary"},on:{click:e.last}},[e._v("上一步")]),e._v(" "),n("i-button",{attrs:{type:"primary",disabled:e.isCheck},on:{click:e.next2}},[e._v("确 定")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});